def loadOtherProjectProperties(sourceFileName) {
    try {
        def propFile = new File(sourceFileName)
        if (!propFile.canRead()) return
        Properties properties = new Properties()
        properties.load(new FileInputStream(propFile))
        for (Map.Entry property in properties) {
            if (System.getProperty(property.key) == null) {
                System.properties[property.key] = property.value
//                println "load system property by other project: ${property.key} -> ${System.properties[property.key]} from ${propFile}"
            }
        }
    } catch (ignore) {
    }

    def propFile = new File(sourceFileName)
    if (!propFile.canRead()) return
    def properties = new Properties()
    properties.load(new FileInputStream(propFile))
    for (Map.Entry property in properties) {
        if (ext.getProperties().get(property.key) == null) {
            ext[property.key] = property.value
//            println "load property by other project: ${property.key} -> ${ext[property.key]} from ${propFile}"
        }
    }
}

// 工具线 ttve 源码调试， 加载一些环境变量
if (System.getProperty("code.tools.ttve") == "true") {
    loadOtherProjectProperties("$rootDir/../ttvideoeditor/proj/android/gradle.properties")
}
